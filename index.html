<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>××•×¦× ××•×˜×•××¦×™×•×ª ××™×™×§</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    @keyframes spin { to { transform: rotate(360deg); } }
    .spin { animation: spin 0.8s linear infinite; }
  </style>
</head>
<body class="bg-slate-50">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // â”€â”€â”€ SVG Icons â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const Icon = ({ d, size = 20, fill = "none", viewBox = "0 0 24 24", children, ...props }) => (
      <svg width={size} height={size} viewBox={viewBox} fill={fill} stroke="currentColor"
        strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        {d ? <path d={d} /> : children}
      </svg>
    );

    const SearchIcon = ({size=22}) => <Icon size={size}><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></Icon>;
    const ZapIcon = ({size=24, fill="none"}) => <Icon size={size} fill={fill}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></Icon>;
    const TargetIcon = ({size=16}) => <Icon size={size}><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></Icon>;
    const ChevronLeft = ({size=20}) => <Icon size={size}><polyline points="15 18 9 12 15 6"/></Icon>;
    const ChevronDown = ({size=16}) => <Icon size={size}><polyline points="6 9 12 15 18 9"/></Icon>;
    const ShareIcon = ({size=15}) => <Icon size={size}><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></Icon>;
    const CheckIcon = ({size=15}) => <Icon size={size}><polyline points="20 6 9 17 4 12"/></Icon>;
    const BookIcon = ({size=15}) => <Icon size={size}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></Icon>;
    const AlertIcon = ({size=28}) => <Icon size={size}><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></Icon>;
    const GearIcon = ({size=18}) => <Icon size={size}><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></Icon>;
    const XIcon = ({size=20}) => <Icon size={size}><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></Icon>;

    const Spinner = ({size=22, color="currentColor"}) => (
      <div className="spin" style={{
        width: size, height: size, borderRadius: '50%',
        border: `2px solid transparent`,
        borderTopColor: color, display: 'inline-block', flexShrink: 0
      }}/>
    );

    const WAIcon = ({size=15}) => (
      <svg width={size} height={size} viewBox="0 0 24 24" fill="currentColor">
        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
      </svg>
    );

    // â”€â”€â”€ Make.com Connection Database â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // Real connection details for common apps - no AI guessing
    const CONNECTION_DB = {
      'LinkedIn': {
        docUrl: 'https://www.make.com/en/help/app/linkedin',
        authType: 'OAuth 2.0 ×¢× ××¤×œ×™×§×¦×™×” ××•×ª×××ª ××™×©×™×ª',
        connectionTypes: [
          { name: 'LinkedIn (Standard)', desc: '×›× ×™×¡×” ×™×©×™×¨×” ×¢× OAuth â€” ×¢×•×‘×“ ×œ×’×™×©×” ×‘×¡×™×¡×™×ª ×‘×œ×‘×“' },
          { name: 'LinkedIn (Custom OAuth App)', desc: '××•××œ×¥ â€” ×“×•×¨×© Client ID + Client Secret ×-LinkedIn Developers' }
        ],
        advancedFields: [
          { field: 'Client ID', where: 'LinkedIn Developers â†’ My Apps â†’ ×‘×—×¨ ××¤×œ×™×§×¦×™×” â†’ ×œ×©×•× ×™×ª Auth', required: true },
          { field: 'Client Secret', where: '××•×ª×” ×œ×©×•× ×™×ª Auth, ×ª×—×ª "Application credentials"', required: true }
        ],
        setupSteps: [
          '×›× ×¡ ×œ-https://developer.linkedin.com/apps â†’ ×œ×—×¥ "Create app"',
          '××œ×: ×©× ××¤×œ×™×§×¦×™×”, ×—×‘×¨ ×œ×“×£ ×—×‘×¨×” ×‘-LinkedIn (××¤×©×¨ ×œ×¤×ª×•×— ×—×“×©), ×”×¢×œ×” ×œ×•×’×•',
          '×‘×œ×©×•× ×™×ª "Products" ×”×•×¡×£: "Sign In with LinkedIn using OpenID Connect" + "Share on LinkedIn"',
          '×œ×©×•× ×™×ª "Auth" â†’ ×ª×—×ª OAuth 2.0 ×”×•×¡×£ Redirect URL: https://www.integromat.com/oauth/cb/linkedin2',
          '×”×¢×ª×§ ××ª ×”-Client ID ×•×”-Client Secret ××œ×©×•× ×™×ª Auth',
          '×‘-Make.com ×‘×—×œ×•×Ÿ Create connection â†’ Advanced Settings â†’ ×”×“×‘×§ Client ID + Client Secret'
        ],
        scopes: ['openid', 'profile', 'email', 'w_member_social']
      },
      'Google Sheets': {
        docUrl: 'https://www.make.com/en/help/app/google-sheets',
        authType: 'OAuth 2.0 â€” ×¤×©×•×˜',
        connectionTypes: [{ name: 'Google Sheets', desc: '×œ×—×¥ Save â†’ × ×¤×ª×— ×—×œ×•×Ÿ Google â†’ ×‘×—×¨ ×—×©×‘×•×Ÿ â†’ ××©×¨ ×”×¨×©××•×ª. ×–×”×•.' }],
        advancedFields: [],
        setupSteps: [
          '×‘-Make.com: ×œ×—×¥ Add/Connect â†’ ×©× ×—×™×‘×•×¨ ×œ×¤×™ ×¨×¦×•× ×š â†’ Save',
          '× ×¤×ª×— ×—×œ×•×Ÿ Google â†’ ×‘×—×¨ ××ª ×—×©×‘×•×Ÿ Google ×”×¨×¦×•×™',
          '××©×¨ ×’×™×©×” ×œ-Google Sheets â€” ×œ×—×¥ "Continue" ×‘×›×œ ×©×œ×‘',
          '×—×–×•×¨ ×œ-Make.com â€” ×”×—×™×‘×•×¨ × ×•×¦×¨ ××•×˜×•××˜×™×ª'
        ]
      },
      'Gmail': {
        docUrl: 'https://www.make.com/en/help/app/gmail',
        authType: 'OAuth 2.0 â€” ×¤×©×•×˜',
        connectionTypes: [{ name: 'Gmail', desc: 'OAuth ×¨×’×™×œ ×¢× ×—×©×‘×•×Ÿ Google' }],
        advancedFields: [],
        setupSteps: [
          '×œ×—×¥ Add/Connect â†’ ×©× â†’ Save',
          '×—×œ×•×Ÿ Google â†’ ×‘×—×¨ ×—×©×‘×•×Ÿ â†’ ××©×¨ ×’×™×©×” ×œ-Gmail'
        ]
      },
      'Google Calendar': {
        docUrl: 'https://www.make.com/en/help/app/google-calendar',
        authType: 'OAuth 2.0 â€” ×¤×©×•×˜',
        connectionTypes: [{ name: 'Google Calendar', desc: 'OAuth ×¢× Google' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ ×‘×—×¨ ×—×©×‘×•×Ÿ Google â†’ ××©×¨ ×”×¨×©××•×ª']
      },
      'Google Drive': {
        docUrl: 'https://www.make.com/en/help/app/google-drive',
        authType: 'OAuth 2.0 â€” ×¤×©×•×˜',
        connectionTypes: [{ name: 'Google Drive', desc: 'OAuth ×¢× Google' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ ×‘×—×¨ ×—×©×‘×•×Ÿ Google â†’ ××©×¨ ×”×¨×©××•×ª']
      },
      'Airtable': {
        docUrl: 'https://www.make.com/en/help/app/airtable',
        authType: 'API Key ××• OAuth',
        connectionTypes: [
          { name: 'Airtable (API Key)', desc: '×”×“×¨×š ×”×§×œ×” â€” ××¤×ª×— ××—×©×‘×•×Ÿ Airtable' },
          { name: 'Airtable (OAuth)', desc: '××™×©×•×¨ OAuth ×™×©×™×¨' }
        ],
        advancedFields: [
          { field: 'API Key', where: 'airtable.com â†’ ×œ×—×¥ ×¢×œ ×ª××•× ×ª ×¤×¨×•×¤×™×œ â†’ Account â†’ Developer Hub â†’ Personal access tokens â†’ Create token', required: true }
        ],
        setupSteps: [
          '×›× ×¡ ×œ-airtable.com â†’ ×ª××•× ×ª ×¤×¨×•×¤×™×œ â†’ Account',
          'Developer Hub â†’ Personal access tokens â†’ Create token',
          '×ª×Ÿ ×©×, ×‘×—×¨ Scopes: data.records:read + data.records:write + schema.bases:read',
          '×œ×—×¥ Create token â†’ ×”×¢×ª×§',
          '×‘-Make.com ×”×“×‘×§ ××ª ×”-token ×‘×©×“×” API Key'
        ]
      },
      'Slack': {
        docUrl: 'https://www.make.com/en/help/app/slack',
        authType: 'OAuth 2.0',
        connectionTypes: [{ name: 'Slack', desc: 'OAuth â€” ×××©×¨×™× ×’×™×©×” ×œ-workspace' }],
        advancedFields: [],
        setupSteps: [
          '×œ×—×¥ Add/Connect â†’ Save',
          '× ×¤×ª×— Slack â†’ ×‘×—×¨ workspace â†’ ×œ×—×¥ Allow'
        ]
      },
      'Notion': {
        docUrl: 'https://www.make.com/en/help/app/notion',
        authType: 'Internal Integration Token',
        connectionTypes: [{ name: 'Notion', desc: '×“×•×¨×© Internal Integration Token' }],
        advancedFields: [
          { field: 'Internal Integration Token', where: 'notion.so/my-integrations â†’ New integration â†’ Submit â†’ ×”×¢×ª×§ "Internal Integration Token"', required: true }
        ],
        setupSteps: [
          '×›× ×¡ ×œ-notion.so/my-integrations â†’ New integration',
          '×ª×Ÿ ×©×, ×‘×—×¨ workspace, ×”×’×“×¨ ×”×¨×©××•×ª (Read/Insert/Update) â†’ Submit',
          '×”×¢×ª×§ ××ª ×”-Internal Integration Token',
          '×‘-Notion: ×¤×ª×— ××ª ×”-Database/Page â†’ ×œ×—×¥ â‹¯ â†’ Connections â†’ ×”×•×¡×£ ××ª ×”-Integration ×©×œ×š',
          '×‘-Make.com: ×”×“×‘×§ ××ª ×”-Token ×‘×©×“×” ×”××ª××™×'
        ]
      },
      'Telegram Bot': {
        docUrl: 'https://www.make.com/en/help/app/telegram-bot',
        authType: 'Bot Token',
        connectionTypes: [{ name: 'Telegram Bot', desc: '×“×•×¨×© Bot Token ×-BotFather' }],
        advancedFields: [
          { field: 'Bot Token', where: 'Telegram â†’ ×—×¤×© @BotFather â†’ /newbot â†’ ×ª×Ÿ ×©× ×•-username â†’ ×”×¢×ª×§ ××ª ×”-Token ×©× ×©×œ×—', required: true }
        ],
        setupSteps: [
          '×‘-Telegram ×—×¤×© @BotFather â†’ ×©×œ×— /newbot',
          '×ª×Ÿ ×©× ×œ×‘×•×˜ (Display name) â†’ ×ª×Ÿ username (×—×™×™×‘ ×œ×”×¡×ª×™×™× ×‘-bot)',
          'BotFather ×™×©×œ×— Token â€” ×”×¢×ª×§ ××•×ª×•',
          '×‘-Make.com ×”×“×‘×§ ×‘-"Connection token"'
        ]
      },
      'WhatsApp': {
        docUrl: 'https://www.make.com/en/help/app/whatsapp-business-cloud',
        authType: 'Meta Business â†’ System User Token',
        connectionTypes: [
          { name: 'WhatsApp (Cloud API)', desc: '×“×¨×š Meta Business Suite â€” ××•×¨×›×‘ ×™×•×ª×¨' },
          { name: 'GREEN-API for WhatsApp', desc: '×”×¨×‘×” ×¤×©×•×˜ ×™×•×ª×¨ â€” API key ×-greenapi.com' }
        ],
        advancedFields: [
          { field: 'Phone Number ID', where: 'Meta Business â†’ WhatsApp â†’ Getting Started', required: true },
          { field: 'Access Token', where: 'Meta Business â†’ System Users â†’ Generate Token', required: true }
        ],
        setupSteps: [
          '×œ×—×™×‘×•×¨ ×¤×©×•×˜: ×”×©×ª××© ×‘-GREEN-API ×‘××§×•× WhatsApp Cloud',
          '×œ-GREEN-API: ×›× ×¡ ×œ-greenapi.com â†’ ×¦×•×¨ instance â†’ ×§×‘×œ instanceId + apiToken',
          '×‘-Make.com ×‘×—×¨ GREEN-API for WhatsApp â†’ ×”×“×‘×§ instanceId + apiToken'
        ]
      },
      'OpenAI': {
        docUrl: 'https://www.make.com/en/help/app/openai-gpt-3',
        authType: 'API Key',
        connectionTypes: [{ name: 'OpenAI', desc: 'API Key ×-platform.openai.com' }],
        advancedFields: [
          { field: 'API Key', where: 'platform.openai.com â†’ API keys â†’ Create new secret key â†’ ×”×¢×ª×§ ××™×“ (×œ× ×™×•×¦×’ ×©×•×‘!)', required: true }
        ],
        setupSteps: [
          '×›× ×¡ ×œ-platform.openai.com â†’ API keys (×‘×ª×¤×¨×™×˜ ×©×××œ)',
          'Create new secret key â†’ ×”×¢×ª×§ ××™×“ â€” ×œ× ×™×•×¦×’ ×©×•×‘',
          '×‘-Make.com ×”×“×‘×§ ×‘-"API Key"'
        ]
      },
      'Anthropic Claude': {
        docUrl: 'https://www.make.com/en/help/app/anthropic-claude',
        authType: 'API Key',
        connectionTypes: [{ name: 'Anthropic Claude', desc: 'API Key ×-console.anthropic.com' }],
        advancedFields: [
          { field: 'API Key', where: 'console.anthropic.com â†’ API Keys â†’ Create Key â†’ ×”×¢×ª×§', required: true }
        ],
        setupSteps: ['console.anthropic.com â†’ API Keys â†’ Create Key â†’ ×”×¢×ª×§ â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      'HTTP': {
        docUrl: 'https://www.make.com/en/help/app/http',
        authType: '×œ×œ× ×—×™×‘×•×¨',
        connectionTypes: [{ name: 'HTTP', desc: '×œ× ×“×•×¨×© ×—×™×‘×•×¨ â€” ××–×™×Ÿ URL ×™×©×™×¨×•×ª ×‘××•×“×•×œ' }],
        advancedFields: [],
        setupSteps: ['××•×“×•×œ HTTP ×œ× ×“×•×¨×© ×—×™×‘×•×¨ â€” ××–×™× ×™× URL ×™×©×™×¨×•×ª ×‘×©×“×” ×”-URL ×‘××•×“×•×œ']
      },
      'Webhooks': {
        docUrl: 'https://www.make.com/en/help/app/webhooks',
        authType: '×œ×œ× ×—×™×‘×•×¨',
        connectionTypes: [{ name: 'Webhook', desc: 'Make.com ××™×™×¦×¨ URL ×™×™×—×•×“×™ â€” ××¢×ª×™×§×™× ×•××“×‘×™×§×™× ×‘×©×™×¨×•×ª ×”×—×™×¦×•× ×™' }],
        advancedFields: [],
        setupSteps: [
          '×”×•×¡×£ ××•×“×•×œ Webhooks â†’ Custom Webhook â†’ Add',
          'Make.com ×™×•×¦×¨ URL â€” ×”×¢×ª×§ ××•×ª×•',
          '×”×“×‘×§ ×‘-×©×™×¨×•×ª ×”×—×™×¦×•× ×™ ×©×××•×¨ ×œ×©×œ×•×— × ×ª×•× ×™×',
          '×©×œ×— ×‘×§×©×ª ×‘×“×™×§×” â†’ Make.com ×™×–×”×” ××ª ×”××‘× ×” ××•×˜×•××˜×™×ª'
        ]
      },
      'HubSpot': {
        docUrl: 'https://www.make.com/en/help/app/hubspot',
        authType: 'OAuth 2.0',
        connectionTypes: [{ name: 'HubSpot', desc: 'OAuth â€” ×›× ×™×¡×” ×¢× ×—×©×‘×•×Ÿ HubSpot' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— HubSpot â†’ ×‘×—×¨ account â†’ Grant access']
      },
      'Mailchimp': {
        docUrl: 'https://www.make.com/en/help/app/mailchimp',
        authType: 'OAuth 2.0',
        connectionTypes: [{ name: 'Mailchimp', desc: 'OAuth' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Mailchimp â†’ Allow access']
      },
      'Trello': {
        docUrl: 'https://www.make.com/en/help/app/trello',
        authType: 'OAuth',
        connectionTypes: [{ name: 'Trello', desc: 'OAuth' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Trello â†’ Allow']
      },
      'GitHub': {
        docUrl: 'https://www.make.com/en/help/app/github',
        authType: 'OAuth ××• Personal Access Token',
        connectionTypes: [
          { name: 'GitHub (OAuth)', desc: 'OAuth ×™×©×™×¨' },
          { name: 'GitHub (PAT)', desc: 'Personal Access Token' }
        ],
        advancedFields: [
          { field: 'Personal Access Token', where: 'GitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens â†’ Generate new token', required: false }
        ],
        setupSteps: ['OAuth: ×œ×—×¥ Add/Connect â†’ Save â†’ Authorize GitHub', 'PAT: github.com â†’ Settings â†’ Developer settings â†’ Personal access tokens â†’ Generate']
      },
      'Facebook Pages': {
        docUrl: 'https://www.make.com/en/help/app/facebook-pages',
        authType: 'OAuth (Meta)',
        connectionTypes: [{ name: 'Facebook Pages', desc: 'OAuth ×¢× Meta â€” ×¦×¨×™×š ×œ×”×™×•×ª Admin ×©×œ ×”×“×£' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ Facebook Login â†’ ×‘×—×¨ ×“×¤×™× ×œ×”×¨×©×•×ª â†’ Done']
      },
      'Instagram': {
        docUrl: 'https://www.make.com/en/help/app/instagram-for-business',
        authType: 'OAuth ×“×¨×š Meta Business',
        connectionTypes: [{ name: 'Instagram for Business', desc: '×“×•×¨×© ×—×©×‘×•×Ÿ Instagram Business + ×“×£ Facebook ××§×•×©×¨' }],
        advancedFields: [],
        setupSteps: [
          '×•×“× ×©×—×©×‘×•×Ÿ Instagram ×”×•× Business/Creator',
          '×—×‘×¨ ×œ-Facebook Page (Instagram Settings â†’ Linked Accounts)',
          '×‘-Make.com: OAuth â†’ ××©×¨ ×’×™×©×” ×œ-Instagram ×•×œ-Facebook Page'
        ]
      },
      // â”€â”€ Communication â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      'Discord': {
        docUrl: 'https://www.make.com/en/help/app/discord',
        authType: 'Bot Token ××• OAuth',
        connectionTypes: [
          { name: 'Discord (Bot)', desc: 'Bot Token â€” ×”×‘×•×˜ ×©×•×œ×— ×”×•×“×¢×•×ª ×œ×©×¨×ª' },
          { name: 'Discord (OAuth)', desc: '×›× ×™×¡×” ×¢× ×—×©×‘×•×Ÿ ××™×©×™' }
        ],
        advancedFields: [
          { field: 'Bot Token', where: 'discord.com/developers/applications â†’ ×‘×—×¨ ××¤×œ×™×§×¦×™×” â†’ Bot â†’ Reset Token â†’ ×”×¢×ª×§', required: true }
        ],
        setupSteps: [
          'discord.com/developers/applications â†’ New Application â†’ ×©×',
          '×œ×©×•× ×™×ª Bot â†’ Add Bot â†’ Reset Token â†’ ×”×¢×ª×§',
          '×œ×©×•× ×™×ª OAuth2 â†’ URL Generator â†’ ×‘×—×¨ scopes: bot â†’ ×”×¨×©××•×ª: Send Messages, Read Message History',
          '×¤×ª×— ×”-URL ×©× ×•×¦×¨ â†’ ×”×•×¡×£ ××ª ×”×‘×•×˜ ×œ×©×¨×ª ×©×œ×š',
          '×‘-Make.com ×”×“×‘×§ ×‘-"Bot Token"'
        ]
      },
      'Microsoft Teams': {
        docUrl: 'https://www.make.com/en/help/app/microsoft-teams',
        authType: 'OAuth ×¢× Microsoft 365',
        connectionTypes: [{ name: 'Microsoft Teams', desc: 'OAuth â€” ×›× ×™×¡×” ×¢× ×—×©×‘×•×Ÿ Microsoft 365/Entra' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Microsoft â†’ ×”×™×›× ×¡ ×¢× ×—×©×‘×•×Ÿ 365 â†’ ××©×¨ ×”×¨×©××•×ª']
      },
      'Twilio': {
        docUrl: 'https://www.make.com/en/help/app/twilio',
        authType: 'Account SID + Auth Token',
        connectionTypes: [{ name: 'Twilio', desc: 'Account SID + Auth Token ××”-Dashboard' }],
        advancedFields: [
          { field: 'Account SID', where: 'console.twilio.com â†’ Dashboard â†’ ×‘×œ×•×§ "Account Info" â†’ Account SID', required: true },
          { field: 'Auth Token', where: 'console.twilio.com â†’ Dashboard â†’ ×œ×—×¥ ×¢×œ ×”×¢×™×Ÿ ×œ×™×“ Auth Token', required: true }
        ],
        setupSteps: [
          'console.twilio.com â†’ Dashboard',
          '×”×¢×ª×§ Account SID ×•-Auth Token ××”-"Account Info" ×‘×œ×•×§',
          '×‘-Make.com ×”×“×‘×§ ×©× ×™×”×'
        ]
      },
      'Zoom': {
        docUrl: 'https://www.make.com/en/help/app/zoom',
        authType: 'OAuth',
        connectionTypes: [{ name: 'Zoom', desc: 'OAuth â€” ×›× ×™×¡×” ×¢× ×—×©×‘×•×Ÿ Zoom' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Zoom â†’ Sign In â†’ Authorize']
      },
      // â”€â”€ E-commerce & Payments â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      'Stripe': {
        docUrl: 'https://www.make.com/en/help/app/stripe',
        authType: 'Secret API Key',
        connectionTypes: [{ name: 'Stripe', desc: 'Secret Key ××”-Dashboard (×©×•× ×” ××”-Publishable Key!)' }],
        advancedFields: [
          { field: 'API Key (Secret)', where: 'dashboard.stripe.com â†’ Developers â†’ API keys â†’ Secret key â†’ Reveal â†’ ×”×¢×ª×§. ×©×™× ×œ×‘: ×–×” ×”-sk_live_... ×•×œ× ×”-pk_live_...', required: true }
        ],
        setupSteps: [
          'dashboard.stripe.com â†’ Developers (×‘×ª×¤×¨×™×˜ ×©×××œ) â†’ API keys',
          '×œ×—×¥ "Reveal" ×œ×™×“ Secret key (sk_live_...)',
          '×‘-Make.com ×”×“×‘×§ â€” ×©×™× ×œ×‘ ×œ× ×œ×”×©×ª××© ×‘-Publishable key (pk_live_...)'
        ]
      },
      'Shopify': {
        docUrl: 'https://www.make.com/en/help/app/shopify',
        authType: 'Custom App API Key + Secret',
        connectionTypes: [
          { name: 'Shopify', desc: 'Custom App credentials â€” ×“×•×¨×© ×™×¦×™×¨×ª Private App ×‘×—× ×•×ª' }
        ],
        advancedFields: [
          { field: 'API Key', where: 'Shopify Admin â†’ Settings â†’ Apps â†’ Develop apps â†’ Create app â†’ API credentials â†’ Admin API access token', required: true },
          { field: 'API Secret Key', where: '××•×ª×” ×“×£ â€” API secret key', required: true },
          { field: 'Store URL', where: '×”×›×ª×•×‘×ª ×©×œ ×”×—× ×•×ª ×‘×¤×•×¨××˜ your-store.myshopify.com', required: true }
        ],
        setupSteps: [
          'Shopify Admin â†’ Settings â†’ Apps and sales channels â†’ Develop apps',
          'Create an app â†’ ×©× ×œ××¤×œ×™×§×¦×™×”',
          'Configure Admin API scopes â†’ ×‘×—×¨ ×”×¨×©××•×ª × ×“×¨×©×•×ª (×œ××©×œ: read_orders, write_products)',
          'Install app â†’ API credentials â†’ ×”×¢×ª×§ Admin API access token (××•×¤×™×¢ ×¤×¢× ××—×ª ×‘×œ×‘×“!)',
          '×‘-Make.com: ×”×“×‘×§ API Key + Secret + ×›×ª×•×‘×ª ×”×—× ×•×ª'
        ]
      },
      'WooCommerce': {
        docUrl: 'https://www.make.com/en/help/app/woocommerce',
        authType: 'Consumer Key + Consumer Secret',
        connectionTypes: [{ name: 'WooCommerce', desc: 'REST API Keys ×©× ×•×¦×¨×•×ª ×‘×œ×•×— ×”×‘×§×¨×” ×©×œ WordPress' }],
        advancedFields: [
          { field: 'Consumer Key', where: 'WordPress Admin â†’ WooCommerce â†’ Settings â†’ Advanced â†’ REST API â†’ Add key â†’ Generate API key', required: true },
          { field: 'Consumer Secret', where: '××•×ª×” ×“×£ â€” × ×•×¦×¨ ×™×—×“ ×¢× ×”-Consumer Key', required: true },
          { field: 'Store URL', where: '×›×ª×•×‘×ª ×”××ª×¨ ×©×œ×š (https://yoursite.com)', required: true }
        ],
        setupSteps: [
          'WordPress Admin â†’ WooCommerce â†’ Settings â†’ Advanced â†’ REST API',
          'Add key â†’ ×ª×Ÿ ×©×, ×‘×—×¨ ××©×ª××©, ×”×¨×©××•×ª: Read/Write â†’ Generate API key',
          '×©××•×¨ ××™×“ ××ª Consumer Key ×•-Consumer Secret (×œ× ×™×•×¦×’×• ×©×•×‘!)',
          '×‘-Make.com ×”×“×‘×§ Key + Secret + URL ×”××ª×¨'
        ]
      },
      'PayPal': {
        docUrl: 'https://www.make.com/en/help/app/paypal',
        authType: 'Client ID + Client Secret (Sandbox ××• Live)',
        connectionTypes: [
          { name: 'PayPal (Live)', desc: '×œ×™×™×¦×•×¨ â€” ×›×¨×˜×™×¡×™ ××©×¨××™ ×××™×ª×™×™×' },
          { name: 'PayPal (Sandbox)', desc: '×œ×‘×“×™×§×•×ª â€” ×›×¡×£ ×¤×™×§×˜×™×‘×™' }
        ],
        advancedFields: [
          { field: 'Client ID', where: 'developer.paypal.com â†’ Apps & Credentials â†’ ×‘×—×¨ Live/Sandbox â†’ ×œ×—×¥ ×¢×œ ×”××¤×œ×™×§×¦×™×” â†’ Client ID', required: true },
          { field: 'Client Secret', where: '××•×ª×” ×“×£ â†’ Show Secret Key', required: true }
        ],
        setupSteps: [
          'developer.paypal.com â†’ My Apps & Credentials',
          '×‘×—×¨ Sandbox (×‘×“×™×§×•×ª) ××• Live (×™×™×¦×•×¨)',
          'Create App ××• ×‘×—×¨ ×§×™×™××ª â†’ ×”×¢×ª×§ Client ID',
          '×œ×—×¥ "Show" ×œ×™×“ Secret â†’ ×”×¢×ª×§',
          '×‘-Make.com ×‘×—×¨ Sandbox/Live â† ×”×“×‘×§ Client ID + Secret'
        ]
      },
      // â”€â”€ Project Management â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      'Jira': {
        docUrl: 'https://www.make.com/en/help/app/jira-software',
        authType: 'API Token + Email + Domain',
        connectionTypes: [
          { name: 'Jira Cloud', desc: 'API Token â€” ×œ×—×©×‘×•× ×•×ª Atlassian Cloud' },
          { name: 'Jira Server/DC', desc: 'Basic Auth â€” ×œ×©×¨×ª×™× ×¢×¦×××™×™×' }
        ],
        advancedFields: [
          { field: 'API Token', where: 'id.atlassian.com/manage-profile/security/api-tokens â†’ Create API token â†’ ×©× â†’ Create â†’ ×”×¢×ª×§', required: true },
          { field: 'Email', where: '×›×ª×•×‘×ª ×”××™××™×™×œ ×©××™×ª×” × ×›× ×¡×™× ×œ-Jira', required: true },
          { field: 'Domain', where: '×”×›×ª×•×‘×ª ×©×œ ×”-Jira ×©×œ×š: yourcompany.atlassian.net', required: true }
        ],
        setupSteps: [
          'id.atlassian.com/manage-profile/security/api-tokens',
          'Create API token â†’ ×ª×Ÿ ×©× â†’ Create â†’ ×”×¢×ª×§ ××™×“',
          '×‘-Make.com: ×”×“×‘×§ API Token + ×”××™××™×™×œ ×©×œ×š + ×”×“×•××™×™×Ÿ (yourcompany.atlassian.net)'
        ]
      },
      'Asana': {
        docUrl: 'https://www.make.com/en/help/app/asana',
        authType: 'Personal Access Token',
        connectionTypes: [{ name: 'Asana', desc: 'Personal Access Token' }],
        advancedFields: [
          { field: 'Personal Access Token', where: 'app.asana.com â†’ ×ª××•× ×ª ×¤×¨×•×¤×™×œ â†’ My Settings â†’ Apps â†’ Manage Developer Apps â†’ New access token', required: true }
        ],
        setupSteps: [
          'app.asana.com â†’ ×ª××•× ×ª ×¤×¨×•×¤×™×œ â†’ My Settings â†’ Apps',
          'Manage Developer Apps â†’ New access token â†’ ×©× â†’ Create â†’ ×”×¢×ª×§',
          '×‘-Make.com ×”×“×‘×§ ×‘-"Personal access token"'
        ]
      },
      'ClickUp': {
        docUrl: 'https://www.make.com/en/help/app/clickup',
        authType: 'API Key',
        connectionTypes: [{ name: 'ClickUp', desc: 'API Key ×-Settings' }],
        advancedFields: [
          { field: 'API Key', where: 'app.clickup.com â†’ Settings (×ª×¤×¨×™×˜ ×©×××œ ×ª×—×ª×•×Ÿ) â†’ Apps â†’ API Token â†’ Generate â†’ ×”×¢×ª×§', required: true }
        ],
        setupSteps: ['app.clickup.com â†’ Settings â†’ Apps â†’ API Token â†’ Generate â†’ ×”×¢×ª×§ â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      'Monday.com': {
        docUrl: 'https://www.make.com/en/help/app/monday',
        authType: 'API Token',
        connectionTypes: [{ name: 'Monday.com', desc: 'API Token ××”-Account' }],
        advancedFields: [
          { field: 'API Token', where: 'monday.com â†’ ×œ×—×¥ ×¢×œ ×ª××•× ×ª ×¤×¨×•×¤×™×œ (×©×××œ ×ª×—×ª×•×Ÿ) â†’ Developers â†’ My access tokens â†’ Copy', required: true }
        ],
        setupSteps: ['monday.com â†’ ×ª××•× ×ª ×¤×¨×•×¤×™×œ â†’ Developers â†’ My access tokens â†’ Copy â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      'Todoist': {
        docUrl: 'https://www.make.com/en/help/app/todoist',
        authType: 'OAuth',
        connectionTypes: [{ name: 'Todoist', desc: 'OAuth' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Todoist â†’ Allow']
      },
      // â”€â”€ CRM & Marketing â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      'Pipedrive': {
        docUrl: 'https://www.make.com/en/help/app/pipedrive',
        authType: 'API Token',
        connectionTypes: [{ name: 'Pipedrive', desc: 'API Token' }],
        advancedFields: [
          { field: 'API Token', where: 'Pipedrive â†’ ×œ×—×¥ ×¢×œ ×©× ××©×ª××© â†’ Settings â†’ Personal preferences â†’ API â†’ Your personal API token', required: true }
        ],
        setupSteps: ['Pipedrive â†’ Settings â†’ Personal preferences â†’ API â†’ ×”×¢×ª×§ ××ª ×”-token â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      'ActiveCampaign': {
        docUrl: 'https://www.make.com/en/help/app/activecampaign',
        authType: 'API URL + API Key',
        connectionTypes: [{ name: 'ActiveCampaign', desc: 'API URL + Key â€” ×©× ×™×”× ×-Account Settings' }],
        advancedFields: [
          { field: 'API URL', where: 'ActiveCampaign â†’ Settings â†’ Developer â†’ API Access â†’ URL (×‘×¤×•×¨××˜ https://youracccount.api-us1.com)', required: true },
          { field: 'API Key', where: '××•×ª×” ×“×£ â€” Key', required: true }
        ],
        setupSteps: ['ActiveCampaign â†’ Settings (×‘×ª×¤×¨×™×˜ ×©×××œ) â†’ Developer â†’ ×”×¢×ª×§ API URL + API Key â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      'Salesforce': {
        docUrl: 'https://www.make.com/en/help/app/salesforce',
        authType: 'OAuth (Connected App)',
        connectionTypes: [{ name: 'Salesforce', desc: 'OAuth â€” ×™×›×•×œ ×œ×¢×‘×•×“ ×™×©×™×¨×•×ª OR ×“×¨×š Connected App' }],
        advancedFields: [],
        setupSteps: [
          '×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Salesforce Login',
          '×”×™×›× ×¡ ×¢× credentials ×©×œ Salesforce â†’ Allow',
          '×× × ×“×¨×© Connected App: Setup â†’ App Manager â†’ New Connected App (××•×¨×›×‘ ×™×•×ª×¨ â€” ×¤× ×” ×œ××“××™×Ÿ)'
        ]
      },
      'Zoho CRM': {
        docUrl: 'https://www.make.com/en/help/app/zoho-crm',
        authType: 'OAuth',
        connectionTypes: [{ name: 'Zoho CRM', desc: 'OAuth' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Zoho â†’ Accept']
      },
      'Zendesk': {
        docUrl: 'https://www.make.com/en/help/app/zendesk',
        authType: 'Email + API Token + Subdomain',
        connectionTypes: [{ name: 'Zendesk', desc: 'Email + API Token + ×©× ×ª×ª-×“×•××™×™×Ÿ' }],
        advancedFields: [
          { field: 'Subdomain', where: '×›×ª×•×‘×ª ×”-Zendesk ×©×œ×š: yourcompany.zendesk.com â†’ ×¨×§ "yourcompany"', required: true },
          { field: 'Email', where: '×”××™××™×™×œ ×©××™×ª×• × ×›× ×¡×™× ×œ-Zendesk', required: true },
          { field: 'API Token', where: 'Zendesk Admin Center â†’ Apps and integrations â†’ APIs â†’ Zendesk API â†’ Add API token', required: true }
        ],
        setupSteps: [
          'Zendesk Admin Center â†’ Apps and integrations â†’ APIs â†’ Zendesk API',
          '×”×¤×¢×œ "Token access" â†’ Add API token â†’ ×©× â†’ Create â†’ ×”×¢×ª×§',
          '×‘-Make.com: Subdomain (×œ×œ× zendesk.com) + Email + API Token'
        ]
      },
      'Typeform': {
        docUrl: 'https://www.make.com/en/help/app/typeform',
        authType: 'Personal Access Token',
        connectionTypes: [{ name: 'Typeform', desc: 'Personal Access Token' }],
        advancedFields: [
          { field: 'Personal Access Token', where: 'admin.typeform.com â†’ ×œ×—×¥ ×¢×œ ×©× ××©×ª××© â†’ Account â†’ Personal tokens â†’ Generate a new token', required: true }
        ],
        setupSteps: ['admin.typeform.com â†’ Account â†’ Personal tokens â†’ Generate â†’ ×”×¢×ª×§ â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      'Calendly': {
        docUrl: 'https://www.make.com/en/help/app/calendly',
        authType: 'Personal Access Token',
        connectionTypes: [{ name: 'Calendly', desc: 'Personal Access Token' }],
        advancedFields: [
          { field: 'Personal Access Token', where: 'calendly.com â†’ Integrations â†’ API & Webhooks â†’ Generate new token', required: true }
        ],
        setupSteps: ['calendly.com â†’ Integrations â†’ API & Webhooks â†’ Generate new token â†’ ×”×¢×ª×§ â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      // â”€â”€ Storage & Files â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      'Dropbox': {
        docUrl: 'https://www.make.com/en/help/app/dropbox',
        authType: 'OAuth',
        connectionTypes: [{ name: 'Dropbox', desc: 'OAuth' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Dropbox â†’ Allow']
      },
      'OneDrive': {
        docUrl: 'https://www.make.com/en/help/app/onedrive',
        authType: 'OAuth ×¢× Microsoft',
        connectionTypes: [{ name: 'OneDrive', desc: 'OAuth ×¢× ×—×©×‘×•×Ÿ Microsoft' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Microsoft â†’ Sign in â†’ Accept']
      },
      'Microsoft Excel': {
        docUrl: 'https://www.make.com/en/help/app/microsoft-excel-365',
        authType: 'OAuth ×¢× Microsoft 365',
        connectionTypes: [{ name: 'Microsoft Excel 365', desc: 'OAuth â€” ×“×•×¨×© Microsoft 365 (×œ× Excel ×¨×’×™×œ)' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Microsoft 365 â†’ Sign in â†’ Accept']
      },
      // â”€â”€ Social â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      'Twitter': {
        docUrl: 'https://www.make.com/en/help/app/twitter',
        authType: 'OAuth 2.0 ×¢× Twitter Developer App',
        connectionTypes: [
          { name: 'Twitter (OAuth 2.0)', desc: '××•××œ×¥ â€” ×›× ×™×¡×” ×¢× ×—×©×‘×•×Ÿ Twitter' },
          { name: 'Twitter (OAuth 1.0a)', desc: '×™×©×Ÿ ×™×•×ª×¨ â€” ×“×•×¨×© 4 ××¤×ª×—×•×ª' }
        ],
        advancedFields: [
          { field: 'Client ID', where: 'developer.twitter.com â†’ Projects & Apps â†’ Your App â†’ Keys and tokens â†’ OAuth 2.0 Client ID', required: false },
          { field: 'Client Secret', where: '××•×ª×” ×“×£ â†’ Client Secret', required: false }
        ],
        setupSteps: [
          'developer.twitter.com â†’ ×¤×¨×•×™×§×˜ â†’ App â†’ Settings â†’ User authentication settings',
          '×”×¤×¢×œ OAuth 2.0 â†’ Type of app: Web App â†’ Callback URL: https://www.integromat.com/oauth/cb/twitter2',
          'Keys and tokens â†’ Client ID + Client Secret â†’ ×”×¢×ª×§',
          '×‘-Make.com ×”×“×‘×§ Client ID + Secret'
        ]
      },
      'YouTube': {
        docUrl: 'https://www.make.com/en/help/app/youtube',
        authType: 'OAuth ×¢× Google',
        connectionTypes: [{ name: 'YouTube', desc: 'OAuth ×¢× ×—×©×‘×•×Ÿ Google ×©××—×•×‘×¨ ×œ×¢×¨×•×¥ YouTube' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Google â†’ ×‘×—×¨ ×—×©×‘×•×Ÿ â†’ Allow']
      },
      // â”€â”€ Dev & Databases â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      'MySQL': {
        docUrl: 'https://www.make.com/en/help/app/mysql',
        authType: 'Host + Port + DB + Username + Password',
        connectionTypes: [{ name: 'MySQL', desc: '×¤×¨×˜×™ ×—×™×‘×•×¨ ×™×©×™×¨ ×œ×©×¨×ª MySQL' }],
        advancedFields: [
          { field: 'Host', where: '×›×ª×•×‘×ª ×©×¨×ª ×”-MySQL (IP ××• domain) â€” ××¡×•×¤×§ ×¢×œ ×™×“×™ ×”×•×¡×˜×™× ×’', required: true },
          { field: 'Port', where: '×‘×¨×™×¨×ª ××—×“×œ: 3306', required: true },
          { field: 'Database', where: '×©× ×”-database', required: true },
          { field: 'Username / Password', where: '××©×ª××© MySQL ×¢× ×”×¨×©××•×ª ×œ××•×ª×” database', required: true }
        ],
        setupSteps: [
          '×•×“× ×©×”-MySQL ×—×©×•×£ ×œ××™× ×˜×¨× ×˜ (××• ×”×’×“×¨ Whitelist ×œ-IPs ×©×œ Make.com)',
          'Make.com IPs ×œWhitelist: https://www.make.com/en/help/other/make-ip-addresses',
          '×‘-Make.com: Host + Port (3306) + Database + User + Password'
        ]
      },
      'Google Forms': {
        docUrl: 'https://www.make.com/en/help/app/google-forms',
        authType: 'OAuth ×¢× Google',
        connectionTypes: [{ name: 'Google Forms', desc: 'OAuth â€” ××•×ª×• ×—×©×‘×•×Ÿ Google ×©×™×¦×¨ ××ª ×”×˜×•×¤×¡' }],
        advancedFields: [],
        setupSteps: ['×œ×—×¥ Add/Connect â†’ Save â†’ × ×¤×ª×— Google â†’ ×‘×—×¨ ×—×©×‘×•×Ÿ â†’ Allow']
      },
      'SendGrid': {
        docUrl: 'https://www.make.com/en/help/app/sendgrid',
        authType: 'API Key',
        connectionTypes: [{ name: 'SendGrid', desc: 'API Key ×-Settings' }],
        advancedFields: [
          { field: 'API Key', where: 'app.sendgrid.com â†’ Settings (×©×××œ) â†’ API Keys â†’ Create API Key â†’ Full Access â†’ Create & View â†’ ×”×¢×ª×§ ××™×“', required: true }
        ],
        setupSteps: ['app.sendgrid.com â†’ Settings â†’ API Keys â†’ Create API Key â†’ Full Access â†’ Create & View â†’ ×”×¢×ª×§ ××™×“ (×œ× ×™×•×¦×’ ×©×•×‘!) â†’ ×”×“×‘×§ ×‘-Make.com']
      },
      'Supabase': {
        docUrl: 'https://www.make.com/en/help/app/supabase',
        authType: 'API URL + anon/service key',
        connectionTypes: [{ name: 'Supabase', desc: 'Project URL + API Key' }],
        advancedFields: [
          { field: 'Project URL', where: 'Supabase Dashboard â†’ Settings â†’ API â†’ Project URL', required: true },
          { field: 'API Key', where: '××•×ª×” ×“×£ â†’ Project API keys â†’ anon (×¦×™×‘×•×¨×™) ××• service_role (××œ× â€” ×–×”×™×¨!)', required: true }
        ],
        setupSteps: ['Supabase Dashboard â†’ Settings â†’ API â†’ ×”×¢×ª×§ Project URL + anon key â†’ ×”×“×‘×§ ×‘-Make.com']
      }
    };

    // Fuzzy match app name to DB key
    function findAppInDB(appName) {
      if (!appName) return null;
      const name = appName.toLowerCase();
      for (const key of Object.keys(CONNECTION_DB)) {
        if (name.includes(key.toLowerCase()) || key.toLowerCase().includes(name)) {
          return CONNECTION_DB[key];
        }
      }
      // Common aliases
      const aliases = {
        'google sheet': 'Google Sheets', 'sheets': 'Google Sheets',
        'google mail': 'Gmail', 'google calendar': 'Google Calendar',
        'google drive': 'Google Drive', 'google form': 'Google Forms',
        'telegram': 'Telegram Bot', 'whatsapp cloud': 'WhatsApp',
        'green-api': 'WhatsApp', 'openai': 'OpenAI', 'gpt': 'OpenAI',
        'claude': 'Anthropic Claude', 'webhook': 'Webhooks',
        'facebook': 'Facebook Pages', 'hubspot': 'HubSpot',
        'twitter': 'Twitter', 'x.com': 'Twitter',
        'ms teams': 'Microsoft Teams', 'teams': 'Microsoft Teams',
        'excel': 'Microsoft Excel', 'onedrive': 'OneDrive',
        'woocommerce': 'WooCommerce', 'woo': 'WooCommerce',
        'active campaign': 'ActiveCampaign',
        'monday': 'Monday.com', 'click up': 'ClickUp',
        'pipe drive': 'Pipedrive', 'zoho': 'Zoho CRM',
        'send grid': 'SendGrid', 'twillio': 'Twilio',
        'type form': 'Typeform', 'calendly': 'Calendly'
      };
      for (const [alias, key] of Object.entries(aliases)) {
        if (name.includes(alias)) return CONNECTION_DB[key];
      }
      return null;
    }

    // â”€â”€â”€ xAI (Grok) API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function callGemini(apiKey, systemPrompt, userQuery) {
      let delay = 1000;
      for (let i = 0; i < 5; i++) {
        try {
          const res = await fetch('https://api.x.ai/v1/chat/completions', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${apiKey}`
            },
            body: JSON.stringify({
              model: 'grok-4-latest',
              response_format: { type: 'json_object' },
              messages: [
                { role: 'system', content: systemPrompt },
                { role: 'user', content: userQuery }
              ]
            })
          });
          if (!res.ok) { const errText = await res.text(); throw new Error('API ' + res.status + ': ' + errText.substring(0, 200)); }
          const data = await res.json();
          return JSON.parse(data.choices[0].message.content);
        } catch (err) {
          if (i === 4) throw err;
          await new Promise(r => setTimeout(r, delay));
          delay *= 2;
        }
      }
    }

    // â”€â”€â”€ Template Card â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const TemplateCard = ({ item, apiKey, singleView = false }) => {
      const [copied, setCopied] = useState(false);
      const [guideOpen, setGuideOpen] = useState(false);
      const [guideLoading, setGuideLoading] = useState(false);
      const [guide, setGuide] = useState(null);
      const [docUrls, setDocUrls] = useState({});

      const getShareUrl = () => {
        try {
          const encoded = btoa(unescape(encodeURIComponent(JSON.stringify(item))));
          return `${window.location.origin}${window.location.pathname}#${encoded}`;
        } catch { return window.location.href; }
      };

      const copyLink = () => {
        navigator.clipboard.writeText(getShareUrl()).then(() => {
          setCopied(true);
          setTimeout(() => setCopied(false), 2500);
        });
      };

      const shareWA = () => {
        const url = getShareUrl();
        const text =
          `ğŸ¤– *${item.name}*\n\n` +
          `${item.description}\n\n` +
          `âš¡ *×˜×¨×™×’×¨:* ${item.trigger?.app} â†’ ${item.trigger?.name}\n` +
          `ğŸ¯ *×¤×¢×•×œ×”:* ${item.action?.app} â†’ ${item.action?.name}\n\n` +
          `ğŸ”— *×¤×ª×— ×‘-Make.com:*\n${item.link}\n\n` +
          `ğŸ“– *××“×¨×™×š ×—×™×‘×•×¨ (×¢× ×§×™×©×•×¨ ×™×©×™×¨):*\n${url}`;
        window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
      };

      const fetchGuide = async () => {
        if (guide) { setGuideOpen(o => !o); return; }
        setGuideOpen(true);
        setGuideLoading(true);
        try {
          const triggerApp = item.trigger?.app || '';
          const actionApp = item.action?.app || '';

          // Look up real connection data from our DB
          const triggerDB = findAppInDB(triggerApp);
          const actionDB = findAppInDB(actionApp);

          // Build verified context string for the AI
          const buildDBContext = (app, db, role) => {
            if (!db) return `${role}: ${app} â€” ××™×Ÿ × ×ª×•× ×™× ×××•××ª×™× ×‘××¡×“ ×”× ×ª×•× ×™× ×©×œ× ×•, ×”×©×ª××© ×‘×™×“×¢ ×”×›×œ×œ×™ ×©×œ×š.`;
            return `${role}: ${app}
  - ×¡×•×’ ××™××•×ª: ${db.authType}
  - ××¤×©×¨×•×™×•×ª ×—×™×‘×•×¨: ${db.connectionTypes.map(c => `"${c.name}": ${c.desc}`).join(' | ')}
  ${db.advancedFields.length ? `- ×©×“×•×ª Advanced Settings: ${db.advancedFields.map(f => `${f.field} (××™×§×•×: ${f.where})`).join('; ')}` : '- ××™×Ÿ ×©×“×•×ª Advanced Settings × ×“×¨×©×™×'}
  - ×¦×¢×“×™ ×”×›× ×” ×××•××ª×™×: ${db.setupSteps.join(' â†’ ')}`;
          };

          const triggerContext = buildDBContext(triggerApp, triggerDB, '×˜×¨×™×’×¨');
          const actionContext = buildDBContext(actionApp, actionDB, '×¤×¢×•×œ×”');

          const data = await callGemini(apiKey,
            `You are a Make.com configuration expert for COMPLETE BEGINNERS who have never used automation before.
Return ONLY valid JSON with this EXACT structure â€” no extra fields:
{
  "steps": [
    {
      "type": "prepare|connect|configure|test",
      "title": "short title in Hebrew",
      "description": "plain Hebrew explanation â€” no â†’ arrows in description",
      "path": ["step1","step2","step3"],
      "fields": [{"field":"field name","where":"exact location","warning":"optional critical note"}],
      "tip": "optional beginner tip in Hebrew",
      "warning": "optional critical warning in Hebrew"
    }
  ],
  "triggerDocUrl": "https://www.make.com/en/help/app/...",
  "actionDocUrl": "https://www.make.com/en/help/app/..."
}

Rules:
- type "prepare" = things to do BEFORE opening Make.com (get credentials, accounts)
- type "connect" = creating a connection inside Make.com (authentication)
- type "configure" = setting module parameters
- type "test" = Run once + activate
- "path" array = navigation breadcrumbs (e.g. ["LinkedIn Developers","My Apps","Auth tab"])
- "fields" array = form fields to fill (name, where to find value, optional warning)
- Keep "description" SHORT (1-2 sentences max) â€” details go in path/fields
- Use ONLY verified data provided. Do NOT invent button names.`,
            `Make.com template: trigger "${item.trigger?.name}" + action "${item.action?.name}".
The template modules are already built â€” user just needs credentials and config.

=== VERIFIED DATA ===
${triggerContext}

${actionContext}
=== END VERIFIED DATA ===

Create 5-6 steps using ONLY the verified data above. Structure:
1. type:prepare â€” what accounts/credentials to get before Make.com
2. type:connect â€” connecting ${triggerApp} in Make.com (show connectionTypes as options, explain advanced fields)
3. type:connect â€” connecting ${actionApp} (same)
4. type:configure â€” setting up trigger module parameters
5. type:configure â€” setting up action module parameters
6. type:test â€” Run once to test, then toggle ON`
          );
          setGuide(data.steps || []);
          setDocUrls({
            trigger: triggerDB?.docUrl || data.triggerDocUrl,
            action: actionDB?.docUrl || data.actionDocUrl
          });
        } catch (err) {
          setGuide([{ title: "×©×’×™××”", description: "×œ× × ×™×ª×Ÿ ×œ×˜×¢×•×Ÿ ××ª ×”××“×¨×™×š. ×‘×“×•×§ ××ª ××¤×ª×— ×”-API ×•× ×¡×” ×©×•×‘." }]);
        }
        setGuideLoading(false);
      };

      return (
        <div className={`bg-white border border-slate-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-all ${singleView ? 'ring-2 ring-blue-300' : ''}`}>
          {singleView && (
            <div className="bg-blue-50 text-blue-700 text-sm font-bold px-3 py-2 rounded-lg mb-4 inline-flex items-center gap-2">
              <ShareIcon size={13}/> ×˜××¤×œ×™×™×˜ ×©×•×ª×£ ××™×ª×š
            </div>
          )}

          <h3 className="text-2xl font-black text-slate-800 mb-2">{item.name}</h3>
          <p className="text-slate-500 text-lg leading-relaxed mb-3">{item.description}</p>

          {/* Account requirement badge */}
          {item.accountReq && (() => {
            const scopeStyles = {
              personal:      { bg: 'bg-green-50',  border: 'border-green-200', text: 'text-green-800', icon: 'ğŸ‘¤', label: '×—×©×‘×•×Ÿ ××™×©×™' },
              business_page: { bg: 'bg-orange-50', border: 'border-orange-200', text: 'text-orange-800', icon: 'ğŸ¢', label: '×“×£ ×¢×¡×§×™/×—×‘×¨×”' },
              admin:         { bg: 'bg-red-50',    border: 'border-red-200',    text: 'text-red-800',    icon: 'ğŸ”‘', label: '×”×¨×©××ª Admin' },
              developer:     { bg: 'bg-purple-50', border: 'border-purple-200', text: 'text-purple-800', icon: 'ğŸ› ï¸', label: '×—×©×‘×•×Ÿ ××¤×ª×—×™×' },
              any:           { bg: 'bg-green-50',  border: 'border-green-200', text: 'text-green-800', icon: 'âœ…', label: '×¤×ª×•×— ×œ×›×•×œ×' },
              webhook:       { bg: 'bg-blue-50',   border: 'border-blue-200',  text: 'text-blue-800',  icon: 'ğŸ”—', label: 'Webhook ×—×™×¦×•× ×™' }
            };
            const s = scopeStyles[item.triggerScope] || scopeStyles.any;
            return (
              <div className={`${s.bg} border ${s.border} rounded-xl px-4 py-2.5 mb-4 flex items-start gap-2.5`}>
                <span className="text-lg flex-shrink-0">{s.icon}</span>
                <div>
                  <span className={`text-xs font-black ${s.text}`}>×“×¨×™×©×ª ×—×©×‘×•×Ÿ: {s.label}</span>
                  <p className="text-xs text-slate-600 mt-0.5">{item.accountReq}</p>
                </div>
              </div>
            );
          })()}

          {/* Trigger / Action */}
          <div className="bg-slate-50 rounded-xl p-4 mb-4 border border-slate-100 flex flex-col md:flex-row gap-4">
            <div className="flex-1">
              <div className="flex items-center gap-2 mb-1.5">
                <ZapIcon size={15} fill="currentColor" className="text-orange-500"/>
                <span className="text-xs font-bold uppercase tracking-wider text-orange-500">×˜×¨×™×’×¨ × ×“×¨×©</span>
              </div>
              <div className="font-bold text-slate-700">{item.trigger?.app}</div>
              <code className="text-slate-500 text-xs mt-1 bg-white border border-slate-200 px-2 py-1 rounded block w-fit" dir="ltr">
                {item.trigger?.name}
              </code>
            </div>
            <div className="hidden md:flex items-center justify-center text-slate-300">
              <ChevronLeft size={22}/>
            </div>
            <div className="flex-1">
              <div className="flex items-center gap-2 mb-1.5">
                <TargetIcon size={15} className="text-blue-500"/>
                <span className="text-xs font-bold uppercase tracking-wider text-blue-500">×¤×¢×•×œ×” × ×“×¨×©×ª</span>
              </div>
              <div className="font-bold text-slate-700">{item.action?.app}</div>
              <code className="text-slate-500 text-xs mt-1 bg-white border border-slate-200 px-2 py-1 rounded block w-fit" dir="ltr">
                {item.action?.name}
              </code>
            </div>
          </div>

          {/* Action buttons */}
          <div className="flex flex-wrap gap-2 mb-3">
            <button onClick={copyLink}
              className={`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold transition-all ${copied ? 'bg-green-100 text-green-700' : 'bg-slate-100 text-slate-700 hover:bg-slate-200'}`}>
              {copied ? <><CheckIcon/> ×”×•×¢×ª×§!</> : <><ShareIcon/> ×”×¢×ª×§ ×œ×™× ×§</>}
            </button>
            <button onClick={shareWA}
              className="flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold bg-green-100 text-green-700 hover:bg-green-200 transition-all">
              <WAIcon/> ×©×ª×£ ×‘-WhatsApp
            </button>
            <button onClick={fetchGuide}
              className={`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-bold transition-all ${guideOpen ? 'bg-purple-100 text-purple-700' : 'bg-blue-50 text-blue-700 hover:bg-blue-100'}`}>
              {guideLoading ? <Spinner size={15} color="#7c3aed"/> : <BookIcon/>}
              {guideOpen && !guideLoading ? <><ChevronDown size={13}/> ×¡×’×•×¨ ××“×¨×™×š</> : ' ××™×š ×œ×”×’×“×™×¨?'}
            </button>
          </div>

          {/* Connection guide accordion */}
          {guideOpen && !guideLoading && guide && (
            <div className="border-2 border-purple-100 rounded-2xl mb-3 overflow-hidden">
              {/* Guide header */}
              <div className="bg-gradient-to-l from-purple-600 to-blue-600 px-4 py-3 flex items-center gap-2">
                <span className="text-white text-base">âš™ï¸</span>
                <span className="text-white font-black text-sm">××“×¨×™×š ×”×’×“×¨×”: {item.trigger?.app} â†’ {item.action?.app}</span>
                <span className="mr-auto bg-white/20 text-white text-xs px-2 py-0.5 rounded-full font-bold">{guide.length} ×¦×¢×“×™×</span>
              </div>

              <div className="p-4 space-y-3">
                {guide.map((step, i) => {
                  const typeStyles = {
                    prepare: { bg: 'bg-amber-50', border: 'border-amber-200', badge: 'bg-amber-100 text-amber-800', icon: 'ğŸ“‹', label: '×”×›× ×” ××¨××©' },
                    connect: { bg: 'bg-blue-50',  border: 'border-blue-200',  badge: 'bg-blue-100 text-blue-800',  icon: 'ğŸ”Œ', label: '×—×™×‘×•×¨ ×—×©×‘×•×Ÿ' },
                    configure:{ bg: 'bg-violet-50',border:'border-violet-200',badge:'bg-violet-100 text-violet-800',icon:'ğŸ›ï¸',label:'×”×’×“×¨×•×ª' },
                    test:     { bg: 'bg-green-50', border: 'border-green-200', badge: 'bg-green-100 text-green-800', icon: 'â–¶ï¸', label: '×‘×“×™×§×” ×•×”×¤×¢×œ×”' }
                  };
                  const s = typeStyles[step.type] || typeStyles.configure;

                  return (
                    <div key={i} className={`${s.bg} border ${s.border} rounded-xl p-4`}>
                      {/* Step header */}
                      <div className="flex items-center gap-2 mb-2">
                        <span className={`text-xs font-black px-2 py-0.5 rounded-full ${s.badge}`}>
                          {s.icon} {s.label}
                        </span>
                        <span className="text-slate-400 text-xs">×©×œ×‘ {i + 1}</span>
                      </div>
                      <div className="font-black text-slate-800 text-base mb-1">{step.title}</div>
                      {step.description && (
                        <p className="text-slate-600 text-sm leading-relaxed mb-2">{step.description}</p>
                      )}

                      {/* Navigation path breadcrumb */}
                      {step.path && step.path.length > 0 && (
                        <div className="flex flex-wrap items-center gap-1 mb-3 bg-white/70 rounded-lg px-3 py-2 border border-white">
                          <span className="text-xs text-slate-400 ml-1">× ×•×•×˜:</span>
                          {step.path.map((crumb, ci) => (
                            <span key={ci} className="flex items-center gap-1">
                              <code className="bg-slate-800 text-slate-100 text-xs px-2 py-0.5 rounded font-mono">{crumb}</code>
                              {ci < step.path.length - 1 && <span className="text-slate-400 text-xs">â€º</span>}
                            </span>
                          ))}
                        </div>
                      )}

                      {/* Fields */}
                      {step.fields && step.fields.length > 0 && (
                        <div className="space-y-2 mb-2">
                          {step.fields.map((f, fi) => (
                            <div key={fi} className="bg-white rounded-lg border border-slate-200 overflow-hidden">
                              <div className="flex items-center gap-2 px-3 py-2 bg-slate-700">
                                <span className="text-slate-200 text-xs font-mono font-bold" dir="ltr">{f.field}</span>
                                <span className="mr-auto text-slate-400 text-xs">â† ××œ× ×›××Ÿ</span>
                              </div>
                              <div className="px-3 py-2">
                                <span className="text-xs text-slate-500">ğŸ“ ××™×¤×” ××•×¦××™×: </span>
                                <span className="text-xs text-slate-700 font-medium">{f.where}</span>
                                {f.warning && (
                                  <div className="mt-1.5 flex items-start gap-1.5 bg-red-50 border border-red-200 rounded px-2 py-1.5">
                                    <span className="text-red-500 text-xs flex-shrink-0">âš ï¸</span>
                                    <span className="text-red-700 text-xs font-bold">{f.warning}</span>
                                  </div>
                                )}
                              </div>
                            </div>
                          ))}
                        </div>
                      )}

                      {/* Tip */}
                      {step.tip && (
                        <div className="flex items-start gap-2 bg-white/60 border border-current/10 rounded-lg px-3 py-2 mt-2">
                          <span className="text-base flex-shrink-0">ğŸ’¡</span>
                          <span className="text-slate-600 text-xs leading-relaxed">{step.tip}</span>
                        </div>
                      )}

                      {/* Warning */}
                      {step.warning && (
                        <div className="flex items-start gap-2 bg-red-50 border border-red-200 rounded-lg px-3 py-2 mt-2">
                          <span className="text-base flex-shrink-0">âš ï¸</span>
                          <span className="text-red-700 text-xs font-bold leading-relaxed">{step.warning}</span>
                        </div>
                      )}
                    </div>
                  );
                })}
              </div>

              {/* Official docs */}
              <div className="border-t border-purple-100 px-4 py-3 bg-slate-50 flex flex-wrap gap-2 items-center">
                <span className="text-xs text-slate-400 font-bold">ğŸ“š ×ª×™×¢×•×“ ×¨×©××™:</span>
                {docUrls.trigger && (
                  <a href={docUrls.trigger} target="_blank" rel="noopener noreferrer"
                    className="flex items-center gap-1 text-xs bg-orange-50 text-orange-700 border border-orange-200 px-3 py-1.5 rounded-lg font-bold hover:bg-orange-100 transition-colors">
                    âš¡ {item.trigger?.app}
                  </a>
                )}
                {docUrls.action && (
                  <a href={docUrls.action} target="_blank" rel="noopener noreferrer"
                    className="flex items-center gap-1 text-xs bg-blue-50 text-blue-700 border border-blue-200 px-3 py-1.5 rounded-lg font-bold hover:bg-blue-100 transition-colors">
                    ğŸ¯ {item.action?.app}
                  </a>
                )}
              </div>
            </div>
          )}

          {/* Open in Make */}
          <button onClick={() => window.open(item.link, '_blank', 'noopener,noreferrer')}
            className="w-full flex items-center justify-center gap-2 bg-slate-900 text-white px-6 py-4 rounded-xl font-black hover:bg-blue-600 transition-colors group">
            <span>×¤×ª×— ×‘-Make ×•×‘×—×¨ ××ª ×”××¤×©×¨×•×™×•×ª ×”× "×œ</span>
            <ChevronLeft size={18}/>
          </button>
        </div>
      );
    };

    // â”€â”€â”€ API Key Setup Screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const ApiKeyScreen = ({ onSave }) => {
      const [key, setKey] = useState('');
      return (
        <div className="min-h-screen bg-slate-50 flex items-center justify-center p-6" dir="rtl">
          <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-8 max-w-md w-full">
            <div className="w-14 h-14 bg-blue-600 text-white rounded-2xl flex items-center justify-center mx-auto mb-5 shadow-lg rotate-3">
              <ZapIcon size={28} fill="currentColor"/>
            </div>
            <h2 className="text-2xl font-black text-center mb-2">×‘×¨×•×š ×”×‘×!</h2>
            <p className="text-slate-500 text-center mb-6">
              ×”×›× ×¡ ××ª ××¤×ª×— ×”-API ×©×œ×š ×-<a href="https://console.x.ai" target="_blank" className="text-blue-600 font-bold hover:underline">xAI Console</a>
              <br/><span className="text-xs">×”××¤×ª×— ×™×™×©××¨ ×‘×“×¤×“×¤×Ÿ ×©×œ×š ×‘×œ×‘×“</span>
            </p>
            <input
              type="password"
              className="w-full border border-slate-200 rounded-xl px-4 py-3 text-sm outline-none focus:ring-2 focus:ring-blue-300 mb-4"
              placeholder="xai-..."
              value={key}
              onChange={e => setKey(e.target.value)}
              dir="ltr"
            />
            <button
              onClick={() => { if (key.trim()) { localStorage.setItem('gemini_key', key.trim()); onSave(key.trim()); }}}
              disabled={!key.trim()}
              className="w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 disabled:opacity-40 transition-all">
              ×”×ª×—×œ
            </button>
          </div>
        </div>
      );
    };

    // â”€â”€â”€ Main App â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const App = () => {
      const [apiKey, setApiKey] = useState(() => localStorage.getItem('gemini_key') || '');
      const [query, setQuery] = useState('');
      const [results, setResults] = useState([]);
      const [loading, setLoading] = useState(false);
      const [error, setError] = useState(null);
      const [sharedTemplate, setSharedTemplate] = useState(null);
      const [showSettings, setShowSettings] = useState(false);

      // Load shared template from URL hash
      useEffect(() => {
        if (window.location.hash && window.location.hash.length > 1) {
          try {
            const decoded = JSON.parse(decodeURIComponent(escape(atob(window.location.hash.substring(1)))));
            if (decoded?.name) setSharedTemplate(decoded);
          } catch {}
        }
      }, []);

      if (!apiKey) return <ApiKeyScreen onSave={setApiKey}/>;

      const SYSTEM_PROMPT = `You are a Make.com expert.
Analyze the user's request in Hebrew and generate a JSON list of 6 matching automation workflows.
Each workflow MUST have:
- name: Professional Hebrew name.
- description: Professional Hebrew description.
- app_slugs: Array of exactly 2 Make.com official URL slugs (e.g., ["facebook-lead-ads", "green-api"]).
- trigger: {"app": "Display name", "name": "Exact Make.com trigger name in English"}
- action: {"app": "Display name", "name": "Exact Make.com action name in English"}
- accountReq: REQUIRED - Short Hebrew description of what account/page/access is needed to activate the trigger.
  Examples: "×—×©×‘×•×Ÿ ××™×©×™ ×¨×’×™×œ", "×“×£ ×¢×¡×§×™ ×‘× ×™×”×•×œ×š", "×—×©×‘×•×Ÿ Business ××—×•×‘×¨ ×œ-Facebook Page",
  "×—×©×‘×•×Ÿ ××¤×ª×—×™× + ××¤×œ×™×§×¦×™×”", "×œ×œ× â€” Webhook ×—×™×¦×•× ×™", "×—×©×‘×•×Ÿ Pro/Premium"
- triggerScope: REQUIRED â€” one of: "personal" | "business_page" | "admin" | "developer" | "any" | "webhook"
  personal = works with any personal/free account
  business_page = requires business page or company page you manage
  admin = requires admin access to workspace/org
  developer = requires developer app/credentials
  any = no special account needed
  webhook = triggered by external service, no login needed

IMPORTANT: Prefer automations that work with PERSONAL accounts when possible.
If the trigger requires a business page or special access, say so clearly â€” don't hide it.

Return ONLY JSON:
{"templates":[{"name":"...","description":"...","app_slugs":["...","..."],"trigger":{"app":"...","name":"..."},"action":{"app":"...","name":"..."},"accountReq":"...","triggerScope":"..."}]}`;

      const search = async (e) => {
        e.preventDefault();
        if (!query.trim()) return;
        setLoading(true);
        setError(null);
        setSharedTemplate(null);
        history.replaceState(null, '', window.location.pathname);
        try {
          const data = await callGemini(apiKey, SYSTEM_PROMPT, query);
          setResults((data.templates || []).map(t => ({
            ...t,
            link: t.app_slugs?.length > 0
              ? `https://www.make.com/en/integrations/${t.app_slugs.slice(0,2).join('/')}`
              : 'https://www.make.com/en/templates'
          })));
        } catch (err) {
          setError("×©×’×™××”: " + (err.message || 'Unknown error'));
        }
        setLoading(false);
      };

      // Single template view (opened via shared link)
      if (sharedTemplate) {
        return (
          <div className="min-h-screen bg-slate-50 text-slate-900 p-4 md:p-10 font-sans" dir="rtl">
            <div className="max-w-2xl mx-auto">
              <div className="flex items-center justify-between mb-8">
                <div className="flex items-center gap-3">
                  <div className="w-10 h-10 bg-blue-600 text-white rounded-xl flex items-center justify-center shadow-lg">
                    <ZapIcon size={20} fill="currentColor"/>
                  </div>
                  <span className="text-xl font-black">××™×™×§ ××•×˜×•××¦×™×•×ª</span>
                </div>
                <button
                  onClick={() => { setSharedTemplate(null); history.replaceState(null, '', window.location.pathname); }}
                  className="flex items-center gap-1.5 text-slate-500 hover:text-slate-800 font-bold text-sm border border-slate-200 px-3 py-2 rounded-lg hover:bg-slate-100 transition-all">
                  <XIcon size={15}/> ×—×¤×© ××•×˜×•××¦×™×” ××—×¨×ª
                </button>
              </div>
              <TemplateCard item={sharedTemplate} apiKey={apiKey} singleView={true}/>
            </div>
          </div>
        );
      }

      return (
        <div className="min-h-screen bg-slate-50 text-slate-900 p-4 md:p-10 font-sans selection:bg-blue-100" dir="rtl">
          <div className="max-w-4xl mx-auto">

            {/* Header */}
            <div className="text-center mb-10 relative">
              <button onClick={() => setShowSettings(s => !s)}
                className="absolute left-0 top-0 text-slate-400 hover:text-slate-600 p-2 rounded-lg hover:bg-slate-100 transition-all">
                <GearIcon/>
              </button>
              {showSettings && (
                <div className="absolute left-0 top-10 bg-white border border-slate-200 rounded-xl shadow-lg p-4 w-72 z-10 text-right">
                  <p className="text-xs text-slate-500 mb-2">×”×—×œ×£ ××¤×ª×— API:</p>
                  <input type="password" dir="ltr" placeholder="AIza..."
                    className="w-full border border-slate-200 rounded-lg px-3 py-2 text-xs outline-none focus:ring-2 focus:ring-blue-300 mb-2"
                    onKeyDown={e => { if (e.key === 'Enter' && e.target.value.trim()) {
                      localStorage.setItem('gemini_key', e.target.value.trim());
                      setApiKey(e.target.value.trim());
                      setShowSettings(false);
                    }}}/>
                  <p className="text-xs text-slate-400">×œ×—×¥ Enter ×œ×©××™×¨×”</p>
                </div>
              )}

              <div className="w-16 h-16 bg-blue-600 text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-200 rotate-3">
                <ZapIcon size={32} fill="currentColor"/>
              </div>
              <h1 className="text-4xl font-black text-slate-900 mb-2">×ª×›× ×•×Ÿ ××•×˜×•××¦×™×•×ª ×‘××™×™×§</h1>
              <p className="text-slate-500 text-lg">×ª×ª××¨ ××ª ×”×ª×”×œ×™×š, ×”××¢×¨×›×ª ×ª×¡×¤×§ ×œ×š ××ª ×”×”×’×“×¨×•×ª ×”××“×•×™×§×•×ª.</p>
            </div>

            {/* Search */}
            <form onSubmit={search} className="relative group mb-12">
              <div className="absolute inset-0 bg-blue-600 rounded-3xl blur opacity-10 group-focus-within:opacity-20 transition-opacity"/>
              <div className="relative flex bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden p-2">
                <input type="text"
                  className="flex-grow px-6 py-4 text-xl outline-none bg-transparent"
                  placeholder="×œ××©×œ: ×™×¦×™×¨×ª ×œ×§×•×— ×‘-CRM ×›×©×™×© ×œ×™×“ ×—×“×© ×‘×¤×™×™×¡×‘×•×§..."
                  value={query}
                  onChange={e => setQuery(e.target.value)}
                />
                <button type="submit" disabled={loading}
                  className="bg-blue-600 text-white px-8 py-4 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 active:scale-95 transition-all disabled:opacity-50">
                  {loading ? <Spinner size={22} color="white"/> : <SearchIcon size={22}/>}
                  <span>×—×¤×©</span>
                </button>
              </div>
            </form>

            {/* Error */}
            {error && (
              <div className="bg-red-50 border-2 border-red-100 text-red-700 p-5 rounded-2xl flex items-center gap-4 mb-8">
                <AlertIcon size={24}/>
                <p className="font-bold">{error}</p>
              </div>
            )}

            {/* Results */}
            <div className="grid gap-6">
              {loading ? (
                <div className="text-center py-24">
                  <Spinner size={50} color="#2563eb"/>
                  <p className="text-slate-500 text-xl font-bold mt-6">×”×‘×™× ×” ×”××œ××›×•×ª×™×ª ×× ×ª×—×ª ××ª ×”×©×œ×‘×™× ×”××“×•×™×§×™×...</p>
                </div>
              ) : results.length > 0 ? (
                results.map((item, idx) => (
                  <TemplateCard key={idx} item={item} apiKey={apiKey}/>
                ))
              ) : !error && (
                <div className="text-center py-32 border-4 border-dashed border-slate-200 rounded-[40px]">
                  <SearchIcon size={56} className="mx-auto text-slate-300"/>
                  <p className="text-slate-400 text-2xl font-black mt-6">×× ×•×¢ ×”×—×™×¤×•×© ××•×›×Ÿ. ××” ×ª×¨×¦×” ×œ××•×˜×•××˜ ×”×™×•×?</p>
                </div>
              )}

              {/* More templates sources */}
              {results.length > 0 && (
                <div className="bg-gradient-to-l from-indigo-50 to-blue-50 border-2 border-indigo-100 rounded-2xl p-6 mt-2">
                  <h3 className="font-black text-indigo-900 text-lg mb-4">ğŸ” ××™×¤×” ×œ××¦×•× ×¢×•×“ ×˜××¤×œ×™×™×˜×™×?</h3>
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <a href="https://www.make.com/en/templates" target="_blank" rel="noopener noreferrer"
                      className="bg-white rounded-xl p-4 border border-indigo-100 hover:border-indigo-300 hover:shadow-md transition-all group">
                      <div className="font-black text-slate-800 text-sm mb-1 group-hover:text-indigo-700">ğŸ“¦ ×¡×¤×¨×™×™×ª ×”×˜××¤×œ×™×™×˜×™× ×©×œ Make.com</div>
                      <p className="text-xs text-slate-500">1,000+ ×˜××¤×œ×™×™×˜×™× ××•×›× ×™× ×œ×©×™××•×© â€” ×—×¤×© ×œ×¤×™ ××¤×œ×™×§×¦×™×” ××• ×§×˜×’×•×¨×™×”</p>
                    </a>
                    <a href="https://www.make.com/en/integrations" target="_blank" rel="noopener noreferrer"
                      className="bg-white rounded-xl p-4 border border-indigo-100 hover:border-indigo-300 hover:shadow-md transition-all group">
                      <div className="font-black text-slate-800 text-sm mb-1 group-hover:text-indigo-700">ğŸ”Œ ×“×£ ××™× ×˜×’×¨×¦×™×•×ª</div>
                      <p className="text-xs text-slate-500">×‘×—×¨ 2 ××¤×œ×™×§×¦×™×•×ª ×•×¨××” ×˜××¤×œ×™×™×˜×™× ×©××—×‘×¨×™× ×‘×™× ×™×”×Ÿ</p>
                    </a>
                    <a href="https://community.make.com/c/share-your-scenarios/13" target="_blank" rel="noopener noreferrer"
                      className="bg-white rounded-xl p-4 border border-indigo-100 hover:border-indigo-300 hover:shadow-md transition-all group">
                      <div className="font-black text-slate-800 text-sm mb-1 group-hover:text-indigo-700">ğŸ‘¥ ×§×”×™×œ×ª Make.com</div>
                      <p className="text-xs text-slate-500">×¡×¦× ×¨×™×•×ª ×©×©×™×ª×¤×• ××©×ª××©×™× ××—×¨×™× â€” ×›×•×œ×œ JSON ×œ×™×™×‘×•× ×™×©×™×¨</p>
                    </a>
                    <a href="https://www.make.com/en/templates?fromPublicLibrary=true" target="_blank" rel="noopener noreferrer"
                      className="bg-white rounded-xl p-4 border border-indigo-100 hover:border-indigo-300 hover:shadow-md transition-all group">
                      <div className="font-black text-slate-800 text-sm mb-1 group-hover:text-indigo-700">ğŸŒ ×¡×¤×¨×™×” ×¦×™×‘×•×¨×™×ª</div>
                      <p className="text-xs text-slate-500">×˜××¤×œ×™×™×˜×™× ××”×§×”×™×œ×” ×©×¢×‘×¨×• ××™×©×•×¨ â€” ×œ×¤×¢××™× ××ª×§×“××™× ×•××¤×ª×™×¢×™×</p>
                    </a>
                  </div>
                  <div className="bg-white/70 rounded-xl px-4 py-3 mt-3 border border-indigo-100">
                    <p className="text-xs text-indigo-800">
                      <span className="font-black">ğŸ’¡ ×˜×™×¤ ×™×™×‘×•×:</span> ×‘×›×œ ×˜××¤×œ×™×™×˜ ×‘-Make.com ×œ×—×¥ <code className="bg-indigo-100 px-1.5 py-0.5 rounded text-xs font-mono">"Use template"</code> â†’
                      ×”×•× ×™×™×¤×ª×— ×™×©×™×¨×•×ª ×‘×—×©×‘×•×Ÿ ×©×œ×š ×¢× ×›×œ ×”××•×“×•×œ×™× ××•×›× ×™×. ×‘×§×”×™×œ×” â€” ×”×¢×ª×§ ××ª ×”-JSON â†’ ×‘-Make.com ×œ×—×¥
                      <code className="bg-indigo-100 px-1.5 py-0.5 rounded text-xs font-mono mx-1">â‹¯</code> â†’
                      <code className="bg-indigo-100 px-1.5 py-0.5 rounded text-xs font-mono">Import Blueprint</code>
                    </p>
                  </div>
                </div>
              )}
            </div>

          </div>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>
